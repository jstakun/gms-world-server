<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE urlrewrite PUBLIC "-//tuckey.org//DTD UrlRewrite 3.2//EN"
        "http://tuckey.org/res/dtds/urlrewrite3.2.dtd">

<!--

    Configuration file for UrlRewriteFilter
    http://tuckey.org/urlrewrite/

-->
<urlrewrite>

    <!-- blogeo rules -->

    <rule>
            <from>^/blogeo/([a-zA-Z0-9@_-]+)$</from>
            <to>/blogeo.do?user=$1</to>
    </rule>

    <rule>
            <from>^/blogeo/([a-zA-Z0-9@_-]+);jsessionid=(.*)$</from>
            <to>/blogeo.do?user=$1</to>
    </rule>

    <outbound-rule>
        <from>^/blogeo.do\?user=([a-zA-Z0-9_-]+)$</from>
        <to>/blogeo/$1</to>
    </outbound-rule>

    <outbound-rule>
        <from>^/blogeo.do\?user=([a-zA-Z0-9_-]+)@([a-zA-Z]+)$</from>
        <to>/blogeo/$1</to>
    </outbound-rule>

    <!-- showLandmark rules -->

    <rule>
            <from>^/showLandmark/([a-zA-Z0-9_-]+)$</from>
            <to>/showLandmark.do?key=$1</to>
    </rule>

    <rule>
            <from>^/showLandmark/([a-zA-Z0-9_-]+);jsessionid=(.*)$</from>
            <to>/showLandmark.do?key=$1</to>
    </rule>

    <rule>
            <from>^/showLandmark/([a-zA-Z0-9_-]+)/(fullScreen)$</from>
            <to>/showLandmark.do?key=$1&amp;fullScreenLandmarkMap=1</to>
    </rule>

    <outbound-rule>
        <from>^/showLandmark.do\?key=([a-zA-Z0-9_-]+)$</from>
        <to>/showLandmark/$1</to>
    </outbound-rule>
    
    <!-- showImage rules -->
    
    <rule>
            <from>^/showImage/([a-zA-Z0-9_-]+)$</from>
            <to>/showImage.do?key=$1</to>
    </rule>
    
    <rule>
            <from>^/showImage/([a-zA-Z0-9_-]+)/([0-9]+)$</from>
            <to>/showImage.do?key=$1&amp;myposcode=$2</to>
    </rule>
    
    <!-- image rules -->
    
    <rule>
            <from>^/image/([a-zA-Z0-9_-]+)$</from>
            <to>/image?key=$1</to>
    </rule>
    
    <!-- freebaseView rules -->
    
    <rule>
            <from>^/freebaseView/([a-zA-Z0-9_-]+)$</from>
            <to>/freebaseView.do?mid=$1</to>
    </rule>
    
    <!-- showGeocode rules -->
    
    <rule>
            <from>^/showGeocode/([a-zA-Z0-9_-]+)$</from>
            <to>/showGeocode.do?key=$1</to>
    </rule>

    <!-- showUser rules -->

    <rule>
            <from>^/showUser/([a-zA-Z0-9@_-]+)/(fullScreen)$</from>
            <to>/showUser.do?user=$1&amp;fullScreenCollectionMap=1</to>
    </rule>

    <rule>
            <from>^/showUser/(.*)$</from>
            <to type="forward" encode="true">/showUser.do?user=$1</to>
    </rule>

    <!--rule>
            <from>^/showUser/([a-zA-Z0-9@_-]+)$</from>
            <to>/showUser.do?user=$1</to>
    </rule>

    <rule>
            <from>^/showUser/([a-zA-Z0-9@_-]+);jsessionid=(.*)$</from>
            <to>/showUser.do?user=$1</to>
    </rule-->

    <outbound-rule>
        <from>^/showUser.do\?user=([a-zA-Z0-9@_-]+)$</from>
        <to>/showUser/$1</to>
    </outbound-rule>


    <!-- showLayer rules -->

    <rule>
            <from>^/showLayer/([a-zA-Z0-9_-]+)$</from>
            <to>/showLayer.do?layer=$1</to>
    </rule>

    <rule>
            <from>^/showLayer/([a-zA-Z0-9_-]+);jsessionid=(.*)$</from>
            <to>/showLayer.do?layer=$1</to>
    </rule>

    <rule>
            <from>^/showLayer/([a-zA-Z0-9_-]+)/(fullScreen)$</from>
            <to>/showLayer.do?layer=$1&amp;fullScreenCollectionMap=1</to>
    </rule>


    <outbound-rule>
        <from>^/showLayer.do\?layer=([a-zA-Z0-9_-]+)$</from>
        <to>/showLayer/$1</to>
    </outbound-rule>

    <!-- heatMap rules -->

    <rule>
            <from>^/heatMap</from>
            <to>/getHeatMap.do</to>
    </rule>
    
    <!-- showLocation rules -->
    
    <rule>
            <from>^/showLocation/([0-9.-]+)/([0-9.-]+)$</from>
            <to>/showLocation.do?lat=$1&amp;lon=$2</to>
    </rule>
    
    <!-- browserLandmark rules -->
    
    <rule>
            <from>^/services/newLandmark/([0-9.-]+)/([0-9.-]+)$</from>
            <to>/browserLandmark.jsp?latitude=$1&amp;longitude=$2</to>
    </rule>
    
    <rule>
            <from>^/newLandmark/([0-9.-]+)/([0-9.-]+)/([a-zA-Z0-9_-]+)$</from>
            <to>/browserLandmark.jsp?latitude=$1&amp;longitude=$2&amp;gmstoken=$3</to>
    </rule>
    
    <rule>
            <from>^/hotelLandmark/([0-9.-]+)/([0-9.-]+)/([a-zA-Z0-9_-]+)$</from>
            <to>/browserLandmark.jsp?latitude=$1&amp;longitude=$2&amp;gmstoken=$3&amp;enabled=Hotels</to>
    </rule>
    
    <!-- rule>
            <from>^/createBrowserLandmark</from>
            <to>/myposLandmark.jsp?generatetoken=true</to>
    </rule>
    
    <rule>
            <from>^/selectBrowserLandmark</from>
            <to>/selectLandmark.jsp?generatetoken=true</to>
    </rule>
    
    <rule>
            <from>^/hotelBrowserLandmark</from>
            <to>/selectLandmark.jsp?generatetoken=true&amp;hotels=true</to>
    </rule-->
    
    <rule>
            <from>^/share</from>
            <to>/myposLandmark.jsp?generatetoken=true</to>
    </rule>
    
    <!-- showLocation rules -->
    
    <rule>
            <from>^/showRoute/([0-9.-]+)/([0-9.-]+)/([0-9.-]+)/([0-9.-]+)$</from>
            <to>/showRoute.do?lat_start=$1&amp;lng_start=$2&amp;lat_end=$3&amp;lng_end=$4</to>
    </rule>

    <!-- download rules -->

    <rule>
            <from>/download/j2me/LandmarkManager.jar</from>
            <to>/download/j2me/108/LandmarkManager.jar</to>
    </rule>

    <rule>
            <from>/download/blackberry/LandmarkManagerUIMIDlet.cod</from>
            <to>/download/blackberry/106/LandmarkManagerUIMIDlet.cod</to>
    </rule>

    <rule>
            <from>/download/android/GMSClient3.apk</from>
            <to>/download/android/208/GMSClient3.apk</to>
    </rule>

    <!-- archive -->
    
    <rule>
            <from>^/archive/([0-9]+)/([0-9]+)$</from>
            <to>/archive.do?year=$1&amp;month=$2</to>
    </rule>
    
    <rule>
            <from>^/archive/([0-9]+)$</from>
            <to>/archive.do?year=$1&amp;month=01</to>
    </rule>
    
    <!-- hotel booking -->
    
    <rule>
            <from>^/bookingProvider/([0-9.-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)$</from>
            <to>/bookingProvider?key=$1&amp;cc=$2&amp;city=$3</to>
    </rule>
    
    <rule>
            <from>^/bookingProvider/([0-9.-]+)$</from>
            <to>/bookingProvider?key=$1</to>
    </rule>
    
    <!-- -->

</urlrewrite>

